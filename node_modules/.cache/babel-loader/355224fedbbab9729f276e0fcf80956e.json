{"ast":null,"code":"import _regeneratorRuntime from \"D:/HTML_CSS/popcorn-v3/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/HTML_CSS/popcorn-v3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Player from \"../player/Player\";\nimport MovieApi from '../../api/MovieApi';\nimport ElementLoader from '../../api/element-loader/ElementLoader';\nimport GalleryApi from '../../api/GalleryApi';\nexport default {\n  name: \"ui-home\",\n  components: {\n    Player: Player\n  },\n  data: function data() {\n    return {\n      pageLoad: false,\n      poster: [{}],\n      topTrending: [{}],\n      publicPath: null,\n      series: [{}],\n      cartoon: [{}],\n      recommend: [{}],\n      trendCarousel: [{\n        img: require(\"../../assets/carousel/jujutsu.png\"),\n        route: \"/\"\n      }, {\n        img: require(\"../../assets/carousel/moon-knight.png\"),\n        route: \"/\"\n      }],\n      recommendVideo: {\n        src: '',\n        size: 480\n      },\n      posterUi: [{}]\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.publicPath = process.env.BASE_URL;\n              _context.next = 3;\n              return MovieApi.getTrending(10);\n\n            case 3:\n              _this.topTrending = _context.sent;\n              _context.next = 6;\n              return MovieApi.findGenre('Animation');\n\n            case 6:\n              _this.cartoon = _context.sent;\n              _context.next = 9;\n              return ElementLoader.load(ElementLoader._POSTER);\n\n            case 9:\n              _this.poster = _context.sent;\n              _context.next = 12;\n              return ElementLoader.load(ElementLoader._RECOMMEND);\n\n            case 12:\n              _this.recommend = _context.sent;\n              _context.next = 15;\n              return MovieApi.findType('series');\n\n            case 15:\n              _this.series = _context.sent;\n              _context.t0 = _this.publicPath + 'videos/';\n              _context.next = 19;\n              return _this.recommend.posterVideo;\n\n            case 19:\n              _context.t1 = _context.sent;\n              _this.recommendVideo.src = _context.t0 + _context.t1;\n              _this.recommendVideo.size = 640;\n              _this.pageLoad = true;\n\n            case 23:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    goWatch: function goWatch(movieId) {\n      this.$router.push(\"/watch/\".concat(movieId));\n    },\n    insertGallery: function insertGallery(id) {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var movie, gallery, result;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return MovieApi.findId(id);\n\n              case 2:\n                movie = _context2.sent;\n                gallery = {\n                  _user_id: _this2.currentUser._id,\n                  _movie: movie\n                };\n                _context2.next = 6;\n                return GalleryApi.insert(gallery);\n\n              case 6:\n                result = _context2.sent;\n                console.log(result);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    }\n  },\n  props: {\n    currentUser: {\n      _id: String,\n      _phone: String,\n      _username: String,\n      _premium_outdate: String\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4OA;AACA;AACA;AACA;AACA;EACAA,eADA;EAEAC;IAAAC;EAAA,CAFA;EAGAC;IAAA;MACAC,eADA;MAEAC,YAFA;MAGAC,iBAHA;MAIAC,gBAJA;MAKAC,YALA;MAMAC,aANA;MAOAC,eAPA;MAQAC,gBACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,CARA;MAYAC;QAAAC;QAAAC;MAAA,CAZA;MAaAC;IAbA;EAAA,CAHA;EAkBAC,OAlBA,qBAkBA;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;cACA;cADA;cAAA,OAGAC,wBAHA;;YAAA;cAGA,iBAHA;cAAA;cAAA,OAIAA,+BAJA;;YAAA;cAIA,aAJA;cAAA;cAAA,OAKAC,yCALA;;YAAA;cAKA,YALA;cAAA;cAAA,OAMAA,4CANA;;YAAA;cAMA,eANA;cAAA;cAAA,OAOAD,2BAPA;;YAAA;cAOA,YAPA;cAAA,cAQA,4BARA;cAAA;cAAA,OAQA,2BARA;;YAAA;cAAA;cAQA,wBARA;cASA;cACA;;YAVA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAWA,CA7BA;EA8BAE;IACAC,OADA,mBACAC,OADA,EACA;MACA;IACA,CAHA;IAIAC,aAJA,yBAIAC,EAJA,EAIA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAN,mBADA;;cAAA;gBACAO,KADA;gBAEAC,OAFA,GAEA;kBACAC,gCADA;kBAEAC;gBAFA,CAFA;gBAAA;gBAAA,OAMAC,0BANA;;cAAA;gBAMAC,MANA;gBAOAC;;cAPA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAQA;EAZA,CA9BA;EA4CAC;IACAC;MACAC,WADA;MAEAC,cAFA;MAGAC,iBAHA;MAIAC;IAJA;EADA;AA5CA","names":["name","components","Player","data","pageLoad","poster","topTrending","publicPath","series","cartoon","recommend","trendCarousel","img","route","recommendVideo","src","size","posterUi","mounted","MovieApi","ElementLoader","methods","goWatch","movieId","insertGallery","id","movie","gallery","_user_id","_movie","GalleryApi","result","console","props","currentUser","_id","_phone","_username","_premium_outdate"],"sourceRoot":"src/components/home","sources":["Home.vue"],"sourcesContent":["<template>\r\n  <div id=\"home\">\r\n     <v-sheet v-if=\"!pageLoad\" dark height=\"100vh\">\r\n      <v-skeleton-loader\r\n        class=\"mx-auto\"\r\n        min-height=\"100vh\"\r\n        width=\"100%\"\r\n        type=\"image\"\r\n      ></v-skeleton-loader>\r\n    </v-sheet>\r\n    <v-sheet v-else dark class=\"home-items\">\r\n    <!-- POSTER -->\r\n    <v-card tile class=\"poster\">\r\n      <v-img class=\"poster__img\" :src=\"'images/thumbnails/' +poster.posterThumbnails\" alt=\"poster\">\r\n        <div class=\"poster__video\">\r\n              <video loop autoplay muted :src=\"'videos/' + poster.posterVideo\"></video>\r\n        </div>\r\n        <div class=\"blender\"></div>\r\n        <v-card\r\n          dark\r\n          flat\r\n          elevation=\"0\"\r\n          color=\"transparent\"\r\n          class=\"ma-md-10 ma-xs-1 pa-3 align-self-end poster__items\"\r\n        >\r\n          <v-img\r\n            class=\"poster__title poster__item mt-16\"\r\n            :src=\"'images/logos/' + poster.posterLogo\"\r\n            alt=\"logo\"\r\n          ></v-img>\r\n          <v-card-title class=\"px-0 py-2\">\r\n            <h2 class=\"poster__name\">{{ poster.posterName }}</h2>\r\n          </v-card-title>\r\n          <div class=\"d-flex my-1\">\r\n            <v-chip\r\n              class=\"mr-2\"\r\n              v-for=\"(item, index) in poster.posterGenre\"\r\n              :key=\"index\"\r\n              link\r\n              outlined\r\n              >{{ item }}</v-chip\r\n            >\r\n          </div>\r\n          <p class=\"py-md-3 py-xs-1 ma-0 poster__desc hidden-sm-and-down\">\r\n            {{ poster.posterDesc }}\r\n          </p>\r\n          <v-card-actions>\r\n            <v-btn @click=\"goWatch(poster.posterId)\" class=\"poster__actions\" color=\"primary\" large>\r\n              <v-icon>mdi-play</v-icon>\r\n              <span class=\"px-3\">Watch now</span>\r\n            </v-btn>\r\n            <v-btn @click=\"insertGallery(poster.posterId)\" class=\"poster__actions\" color=\"primary\" large>\r\n              <v-icon>mdi-movie</v-icon>\r\n              <span class=\"px-3\">Add to Gallery</span>\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-img>\r\n    </v-card>\r\n    <!-- TRENDING -->\r\n    <section id=\"trending\" class=\"mt-6 d-flex flex-column\">\r\n      <v-card\r\n        tile\r\n        dark\r\n        elevation=\"0\"\r\n        class=\"trending mt-md-5 mt-xs-2 mx-md-10 mx-xs-1 pa-1\"\r\n      >\r\n        <h3 class=\"trending__title\">\r\n          <v-icon large color=\"primary\">mdi-trending-up</v-icon>\r\n          <span class=\"px-2\">Trendings</span>\r\n        </h3>\r\n        <v-slide-group show-arrows>\r\n          <v-slide-item v-for=\"(item, index) in topTrending\" :key=\"index\">\r\n            <v-card elevation=\"5\" width=\"200\" height=\"325\" class=\"ma-2 pa-2\">\r\n              <v-img height=\"200\" :src=\"publicPath + 'images/thumbnails/' + item._thumbnail\"></v-img>\r\n              <v-card-title>\r\n                <h5 class=\"text-truncate\">{{ item._name }}</h5>\r\n              </v-card-title>\r\n              <v-divider></v-divider>\r\n              <v-card-actions class=\"d-flex justify-space-around\">\r\n                <v-btn @click=\"goWatch(item._id)\" color=\"primary\" elevation=\"0\">\r\n                  <v-icon>mdi-play</v-icon>\r\n                  <span class=\"px-2\">Watch</span>\r\n                </v-btn>\r\n                <v-btn color=\"primary\" elevation=\"0\"\r\n                  ><v-icon>mdi-information</v-icon></v-btn\r\n                >\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-slide-item>\r\n        </v-slide-group>\r\n      </v-card>\r\n      <!-- News Arrivals -->\r\n      <v-card\r\n        height=\"200\"\r\n        tile\r\n        dark\r\n        elevation=\"0\"\r\n        class=\"trending mt-5 mx-md-10 mx-xs-2 pa-1 d-flex trending__carousel\"\r\n      >\r\n        <v-carousel\r\n          height=\"150\"\r\n          class=\"align-self-center trending__carousel-item\"\r\n          hide-delimiters\r\n        >\r\n          <v-carousel-item\r\n            link\r\n            v-for=\"(item, index) in trendCarousel\"\r\n            :key=\"index\"\r\n            :src=\"item.img\"\r\n          ></v-carousel-item>\r\n        </v-carousel>\r\n      </v-card>\r\n    </section>\r\n\r\n    <section id=\"recomended mt-6\">\r\n      <v-card\r\n        tile\r\n        dark\r\n        elevation=\"0\"\r\n        class=\"recomend mt-md-5 mt-xs-2 mx-md-10 mx-xs-1 pa-1\"\r\n      >\r\n        <h3 class=\"trending__title\">\r\n          <v-icon large color=\"primary\">mdi-thumb-up</v-icon>\r\n          <span class=\"px-2\">Reccommend</span>\r\n        </h3>\r\n        <v-container class=\"trending__content d-flex mx-0 px-0\">\r\n          <v-row align=\"start\" align-sm=\"center\">\r\n            <v-col md=\"7\" class=\"reccommend__player\">\r\n              <Player v-if=\"recommendVideo.src != ''\" :playerDetails=\"recommendVideo\" />\r\n            </v-col>\r\n            <v-col md=\"5\" class=\"reccommend__title d-block\">\r\n              <v-card elevation=\"0\" class=\"px-5 px-md-0\">\r\n              <v-img :src=\"publicPath + 'images/logos/' + recommend.posterLogo\" alt=\"#\" width=\"250\"></v-img>\r\n              <div class=\"d-flex my-1\">\r\n                <v-chip\r\n                  class=\"mr-2\"\r\n                  v-for=\"(item, index) in recommend.posterGenre\"\r\n                  :key=\"index\"\r\n                  link\r\n                  outlined\r\n                  >{{ item }}</v-chip\r\n                >\r\n              </div>\r\n              <p class=\"px-0 py-3 ma-0 text-justify\">{{recommend.posterDesc}}</p>\r\n              <v-card-actions class=\"pa-0\">\r\n                <v-btn @click=\"goWatch(recommend.posterId)\" class=\"reccommend__actions\" color=\"primary\" large>\r\n              <v-icon>mdi-play</v-icon>\r\n              <span class=\"px-3\">Watch now</span>\r\n            </v-btn>\r\n            <v-btn class=\"reccommend__actions\" color=\"primary\" large>\r\n              <v-icon>mdi-information</v-icon>\r\n              <span class=\"px-3\">More info</span>\r\n            </v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n            </v-col>\r\n          </v-row>\r\n        </v-container>\r\n      </v-card>\r\n    </section>\r\n\r\n    <!-- TV SERIES -->\r\n    <section id=\"series\" class=\"mt-6 d-flex flex-column\">\r\n      <v-card\r\n        tile\r\n        dark\r\n        elevation=\"0\"\r\n        class=\"series mt-md-5 mt-xs-2 mx-md-10 mx-xs-1 pa-1\"\r\n      >\r\n        <h3 class=\"series__title\">\r\n          <v-icon large color=\"primary\">mdi-television-classic</v-icon>\r\n          <span class=\"px-2\">TV Series</span>\r\n        </h3>\r\n        <v-slide-group show-arrows>\r\n          <v-slide-item v-for=\"(item, index) in series\" :key=\"index\">\r\n            <v-card elevation=\"5\" width=\"200\" height=\"375\" class=\"ma-2 pa-2\">\r\n              <v-img height=\"250\" :src=\"publicPath + 'images/thumbnails/' + item._thumbnail \"></v-img>\r\n              <v-card-title>\r\n                <h5 class=\"text-truncate\">{{ item._name }}</h5>\r\n              </v-card-title>\r\n              <v-divider></v-divider>\r\n              <v-card-actions class=\"d-flex justify-space-around\">\r\n                <v-btn @click=\"goWatch(item._id)\" color=\"primary\" elevation=\"0\">\r\n                  <v-icon>mdi-play</v-icon>\r\n                  <span class=\"px-2\">Watch</span>\r\n                </v-btn>\r\n                <v-btn color=\"primary\" elevation=\"0\"\r\n                  ><v-icon>mdi-information</v-icon></v-btn\r\n                >\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-slide-item>\r\n        </v-slide-group>\r\n      </v-card>\r\n    </section>\r\n\r\n    <!-- CARTOON -->\r\n    <section id=\"cartoon\" class=\"mt-6 d-flex flex-column\">\r\n      <v-card\r\n        tile\r\n        dark\r\n        elevation=\"0\"\r\n        class=\"series mt-md-5 mt-xs-2 mx-md-10 mx-xs-1 pa-1\"\r\n      >\r\n        <h3 class=\"cartoon__title\">\r\n          <v-icon large color=\"primary\">mdi-teddy-bear</v-icon>\r\n          <span class=\"px-2\">Cartoon & Animations</span>\r\n        </h3>\r\n        <v-slide-group show-arrows>\r\n          <v-slide-item v-for=\"(item, index) in cartoon\" :key=\"index\">\r\n            <v-card elevation=\"5\" width=\"200\" height=\"375\" class=\"ma-2 pa-2\">\r\n              <v-img height=\"250\" :src=\"publicPath + 'images/thumbnails/' + item._thumbnail\"></v-img>\r\n              <v-card-title>\r\n                <h5 class=\"text-truncate\">{{ item._name }}</h5>\r\n              </v-card-title>\r\n              <v-divider></v-divider>\r\n              <v-card-actions class=\"d-flex justify-space-around\">\r\n                <v-btn @click=\"goWatch(item._id)\" color=\"primary\" elevation=\"0\">\r\n                  <v-icon>mdi-play</v-icon>\r\n                  <span class=\"px-2\">Watch</span>\r\n                </v-btn>\r\n                <v-btn color=\"primary\" elevation=\"0\"\r\n                  ><v-icon>mdi-information</v-icon></v-btn\r\n                >\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-slide-item>\r\n        </v-slide-group>\r\n      </v-card>\r\n    </section>\r\n  </v-sheet>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Player from \"../player/Player\";\r\nimport MovieApi from '../../api/MovieApi'\r\nimport ElementLoader from '../../api/element-loader/ElementLoader'\r\nimport GalleryApi from '../../api/GalleryApi'\r\nexport default {\r\n  name: \"ui-home\",\r\n  components: { Player },\r\n  data: () => ({\r\n    pageLoad: false,\r\n    poster: [{}],\r\n    topTrending: [{}],\r\n    publicPath: null,\r\n    series: [{}],\r\n    cartoon: [{}],\r\n    recommend: [{}],\r\n    trendCarousel: [\r\n      { img: require(\"../../assets/carousel/jujutsu.png\"), route: \"/\" },\r\n      { img: require(\"../../assets/carousel/moon-knight.png\"), route: \"/\" },\r\n    ],\r\n    recommendVideo: {src:'', size:480 },\r\n    posterUi: [{}],\r\n  }),\r\n  async mounted(){\r\n    this.publicPath = process.env.BASE_URL\r\n\r\n    this.topTrending = await MovieApi.getTrending(10)\r\n    this.cartoon = await MovieApi.findGenre('Animation')\r\n    this.poster = await ElementLoader.load(ElementLoader._POSTER)\r\n    this.recommend = await ElementLoader.load(ElementLoader._RECOMMEND)\r\n    this.series = await MovieApi.findType('series')\r\n    this.recommendVideo.src = this.publicPath + 'videos/' + await this.recommend.posterVideo\r\n    this.recommendVideo.size = 640\r\n    this.pageLoad = true\r\n  },\r\n  methods:{\r\n    goWatch(movieId){\r\n      this.$router.push(`/watch/${movieId}`)\r\n    },\r\n    async insertGallery(id){\r\n      const movie = await MovieApi.findId(id)\r\n      const gallery = {\r\n        _user_id: this.currentUser._id,\r\n        _movie: movie\r\n      }\r\n      const result = await GalleryApi.insert(gallery)\r\n      console.log(result)\r\n    }\r\n  },\r\n  props:{\r\n    currentUser:{\r\n      _id: String,\r\n      _phone: String,\r\n      _username: String,\r\n      _premium_outdate: String\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.poster__img {\r\n  height: 100%;\r\n  position: relative;\r\n}\r\n.blender {\r\n  height: 100%;\r\n}\r\n.blender::before {\r\n  content: \"\";\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 0;\r\n  background: rgb(0, 0, 0);\r\n  background: linear-gradient(\r\n    180deg,\r\n    rgba(0, 0, 0, 1) 0%,\r\n    rgba(0, 0, 0, 0.5) 15%,\r\n    rgba(0, 0, 0, 0) 50%,\r\n    rgba(0, 0, 0, 0.5) 85%,\r\n    rgba(0, 0, 0, 1) 100%\r\n  );\r\n}\r\n.poster {\r\n  height: 100vh;\r\n  position: relative;\r\n}\r\n.poster .poster__title {\r\n  width: 250px;\r\n}\r\n.poster .poster__name {\r\n  text-transform: uppercase;\r\n}\r\n.poster .v-responsive__content {\r\n  display: flex;\r\n}\r\n.poster .poster__desc {\r\n  width: 50%;\r\n}\r\n.poster .poster__actions {\r\n  width: 200px;\r\n}\r\n\r\n\r\n.poster .poster__video {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%; \r\n  overflow: hidden;\r\n}\r\n.poster__video video {\r\n  /* Make video to at least 100% wide and tall */\r\n  min-width: 100%; \r\n  min-height: 100%; \r\n\r\n\r\n  /* Center the video */\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%,-50%);\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n  .poster {\r\n    height: 350px !important;\r\n  }\r\n  .poster .poster__actions {\r\n    width: 150px !important;\r\n  }\r\n  .poster .poster__name {\r\n    font-size: 16px;\r\n  }\r\n  .poster .poster__title {\r\n    width: 150px;\r\n  }\r\n  .trending__title {\r\n    text-align: center;\r\n  }\r\n  .trending__caorousel {\r\n    height: 150px !important;\r\n  }\r\n  .trending__caorousel-item {\r\n    height: 100px !important;\r\n  }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}